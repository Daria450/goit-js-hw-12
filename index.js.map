{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios, { isCancel, AxiosError } from 'axios';\n\n\n\n\nexport function searchImages(searchedImage) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: \"48899648-ccb58b22bf2a70621fef2a532\",\n        q: searchedImage,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n    const url = `${BASE_URL}?${params}`;\n    return axios(url);\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function galleryTemplate(images) {\n  return images\n    .map((image) => `<li class=\"gallery-item\">\n        <div class=\"img-container\">\n  <a class=\"gallery-link\" href=${image.largeImageURL}> \n    <img\n      class=\"gallery-image\"\n      src=${image.webformatURL}\n      data-source=${image.largeImageURL}\n      alt=${image.tags}\n      height = 200\n      width = 360\n    />\n  </a>\n  </div>\n  <ul class=\"img-data\">\n  <li class =\"img-data-item\">\n    <p class=\"data-name\">Likes</p>\n    <p class=\"data-value\">${image.likes}</p> \n  </li>\n   <li class =\"img-data-item\">\n    <p class=\"data-name\">Views</p>\n    <p class=\"data-value\">${image.views}</p> \n  </li>\n  <li class =\"img-data-item\">\n    <p class=\"data-name\">Comments</p>\n    <p class=\"data-value\">${image.comments}</p> \n  </li>\n  <li class =\"img-data-item\">\n    <p class=\"data-name\">Downloads</p>\n    <p class=\"data-value\">${image.downloads}</p> \n  </li>\n  </ul>\n</li> `)\n    .join(\"\");\n}\n\nexport function renderGallery(images, tagGallery) {\n  const markup = galleryTemplate(images);\n  tagGallery.innerHTML = markup;\n  const refreshPage = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  refreshPage.refresh();\n}\n\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderGallery } from \"./js/render-functions\";\nimport { searchImages } from \"./js/pixabay-api\";\n\nexport const refs = {\n  searchForm: document.querySelector(\".search-form\"),\n  searchInput: document.querySelector(\".request\"),\n  searchBtn: document.querySelector(\".search-button\"),\n  gallery: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n}\n\n\nrefs.loader.style.display = 'none';\n\nrefs.searchForm.addEventListener('submit', (e) => {\n\n  e.preventDefault();\n\n  let userValue = e.target.elements.query.value.trim();\n\n\n\n  if (!userValue) {\n    iziToast.error({\n      title: 'Error',\n      messageColor: 'white',\n      message: 'Input is empty',\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      theme: \"dark\",\n    });\n    return\n  }\n\n\n  refs.loader.style.display = 'inline-block';\n\n  searchImages(userValue).then(res => {\n    refs.loader.style.display = 'none';\n    const img = res.data.hits;\n\n    if (res.data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        titleColor: 'white',\n        messageColor: 'white',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        iconColor: 'white',\n        overlayColor: '#EF4040',\n        theme: \"dark\",\n      });\n    } else {\n      renderGallery(img, refs.gallery);\n      e.target.reset();\n    }\n\n\n\n\n\n  }).catch((err) => {\n    refs.loader.style.display = 'none';\n    iziToast.error({\n      title: 'Error',\n      titleColor: 'white',\n      messageColor: 'white',\n      message: `Sorry, unexpected ${err} occured!`,\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      iconColor: 'white',\n      overlayColor: '#EF4040',\n      theme: \"dark\",\n    });\n  }\n  );\n\n\n\n}\n)\n\n\n\n\n"],"names":["searchImages","searchedImage","BASE_URL","params","url","axios","galleryTemplate","images","image","renderGallery","tagGallery","markup","SimpleLightbox","refs","e","userValue","iziToast","res","img","err"],"mappings":"owBAKO,SAASA,EAAaC,EAAe,CACxC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAOE,EAAMD,CAAG,CACpB,CCZO,SAASE,EAAgBC,EAAQ,CACtC,OAAOA,EACJ,IAAKC,GAAU;AAAA;AAAA,iCAEaA,EAAM,aAAa;AAAA;AAAA;AAAA,YAGxCA,EAAM,YAAY;AAAA,oBACVA,EAAM,aAAa;AAAA,YAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BASMA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,4BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,OAGpC,EACF,KAAK,EAAE,CACZ,CAEO,SAASC,EAAcF,EAAQG,EAAY,CAChD,MAAMC,EAASL,EAAgBC,CAAM,EACrCG,EAAW,UAAYC,EACH,IAAIC,EAAe,aAAc,CACnD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACW,QAAO,CACrB,CCvCO,MAAMC,EAAO,CAClB,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,UAAU,EAC9C,UAAW,SAAS,cAAc,gBAAgB,EAClD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAGAA,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,WAAW,iBAAiB,SAAWC,GAAM,CAEhDA,EAAE,eAAc,EAEhB,IAAIC,EAAYD,EAAE,OAAO,SAAS,MAAM,MAAM,OAI9C,GAAI,CAACC,EAAW,CACdC,EAAS,MAAM,CACb,MAAO,QACP,aAAc,QACd,QAAS,iBACT,SAAU,WACV,gBAAiB,UACjB,MAAO,MACb,CAAK,EACD,MACD,CAGDH,EAAK,OAAO,MAAM,QAAU,eAE5Bb,EAAae,CAAS,EAAE,KAAKE,GAAO,CAClCJ,EAAK,OAAO,MAAM,QAAU,OAC5B,MAAMK,EAAMD,EAAI,KAAK,KAEjBA,EAAI,KAAK,KAAK,SAAW,EAC3BD,EAAS,MAAM,CACb,MAAO,QACP,WAAY,QACZ,aAAc,QACd,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,UAAW,QACX,aAAc,UACd,MAAO,MACf,CAAO,GAEDP,EAAcS,EAAKL,EAAK,OAAO,EAC/BC,EAAE,OAAO,QAOf,CAAG,EAAE,MAAOK,GAAQ,CAChBN,EAAK,OAAO,MAAM,QAAU,OAC5BG,EAAS,MAAM,CACb,MAAO,QACP,WAAY,QACZ,aAAc,QACd,QAAS,qBAAqBG,CAAG,YACjC,SAAU,WACV,gBAAiB,UACjB,UAAW,QACX,aAAc,UACd,MAAO,MACb,CAAK,CACF,CACH,CAIA,CACA"}